"use strict";(globalThis.webpackChunkweb_advisor_theme_builder=globalThis.webpackChunkweb_advisor_theme_builder||[]).push([[263],{263:(e,o,t)=>{t.r(o);var l=t(997),i=t(715),s=t(427),r=t(143),a=t(87),n=t(723),d=t(790);(0,l.registerBlockType)("web-advisor/portfolio-grid",{title:(0,n.__)("Portfolio Grid (Web Advisor)","web-advisor"),icon:"images-alt2",category:"widgets",attributes:{showFilters:{type:"boolean",default:!0},viewMoreLabel:{type:"string",default:"View More"},viewMoreLink:{type:"string",default:"/portfolio"}},edit:({attributes:e,setAttributes:o})=>{const{showFilters:t,viewMoreLabel:l,viewMoreLink:n}=e,c=(0,i.useBlockProps)({className:"themidev-portfolio-block"}),[p,h]=(0,a.useState)("all"),[m,g]=(0,a.useState)([]),b=(0,r.useSelect)(e=>e("core").getEntityRecords("taxonomy","portfolio_category",{per_page:-1})),u=(0,r.useSelect)(e=>e("core").getEntityRecords("postType","portfolio",{per_page:-1,_embed:!0}));(0,a.useEffect)(()=>{u&&g(u.slice(0,6))},[u]);const w=e=>{h(e),g("all"===e?u.slice(0,6):u.filter(o=>o._embedded?.["wp:term"]?.[0]?.some(o=>o.slug===e)))};return(0,d.jsxs)("div",{...c,children:[(0,d.jsxs)(i.InspectorControls,{children:[(0,d.jsxs)(s.PanelBody,{title:"Portfolio Settings",initialOpen:!0,children:[(0,d.jsx)(s.ToggleControl,{label:"Show Category Filters",checked:t,onChange:e=>o({showFilters:e})}),(0,d.jsx)(s.TextControl,{label:"View More Button Label",value:l,onChange:e=>o({viewMoreLabel:e})}),(0,d.jsx)(s.TextControl,{label:"View More Link URL",value:n,onChange:e=>o({viewMoreLink:e})})]}),(0,d.jsxs)(s.PanelBody,{title:"Shortcode for Single Portfolio",initialOpen:!1,children:[(0,d.jsx)("p",{style:{marginBottom:"8px",fontSize:"13px"},children:"Use the shortcode below to display a single portfolio item on any page:"}),(0,d.jsx)(s.TextControl,{label:"Copy Shortcode",value:"[portfolio_single]",readOnly:!0}),(0,d.jsx)("p",{style:{marginTop:"8px",fontSize:"12px",opacity:.7},children:"Add this shortcode to your Portfolio Page or Single Template."})]})]}),t&&(0,d.jsxs)("div",{className:"themidev-portfolio-filters",children:[(0,d.jsx)("button",{className:"filter-btn "+("all"===p?"active":""),onClick:()=>w("all"),children:"All"}),b&&b.map(e=>(0,d.jsx)("button",{className:"filter-btn "+(p===e.slug?"active":""),onClick:()=>w(e.slug),children:e.name},e.id))]}),(0,d.jsxs)("div",{className:"wa-portfolio-grid",children:[!m&&(0,d.jsx)("p",{children:"Loading portfolio itemsâ€¦"}),m&&m.slice(0,6).map(e=>{const o=e._embedded?.["wp:featuredmedia"]?.[0]?.source_url||"https://via.placeholder.com/600x400";return(0,d.jsxs)("div",{className:"themidev-portfolio-card",children:[(0,d.jsxs)("div",{className:"wa-thumb",children:[(0,d.jsx)("img",{src:o,alt:e.title.rendered}),(0,d.jsx)("span",{className:"wa-badge",children:e._embedded?.["wp:term"]?.[0]?.[0]?.name||"Design"})]}),(0,d.jsx)("h4",{className:"wa-title",dangerouslySetInnerHTML:{__html:e.title.rendered}}),(0,d.jsxs)("a",{href:e.link,className:"wa-btn",children:["View Project ",(0,d.jsx)("span",{className:"material-icons",children:"arrow_forward"})]})]},e.id)})]}),(0,d.jsx)("div",{className:"wa-loadmore",children:(0,d.jsx)("a",{href:n,className:"wa-more-btn",children:l})})]})},save:()=>null})}}]);