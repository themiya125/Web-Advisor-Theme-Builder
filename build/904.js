"use strict";(globalThis.webpackChunkweb_advisor_theme_builder=globalThis.webpackChunkweb_advisor_theme_builder||[]).push([[904],{904:(e,o,t)=>{t.r(o);var n=t(997),i=t(715),r=t(427),a=t(790);(0,n.registerBlockType)("web-advisor/cookie-policy",{title:"Cookie Policy Block (Web Advisor)",icon:"shield",category:"widgets",attributes:{position:{type:"string",default:"bottom"},bgColor:{type:"string",default:"#222"},textColor:{type:"string",default:"#fff"},autoHideTime:{type:"number",default:0}},edit:({attributes:e,setAttributes:o})=>{const{position:t,bgColor:n,textColor:l,autoHideTime:s}=e,c=(0,i.useBlockProps)({className:"themidev-cookie-block",style:{border:"2px dashed #0073aa",padding:"20px",textAlign:"center",borderRadius:"8px"}});return(0,a.jsxs)("div",{...c,children:[(0,a.jsx)(i.InspectorControls,{children:(0,a.jsxs)(r.PanelBody,{title:"Cookie Banner Settings",initialOpen:!0,children:[(0,a.jsx)(r.SelectControl,{label:"Banner Position",value:t,options:[{label:"Bottom",value:"bottom"},{label:"Top",value:"top"}],onChange:e=>o({position:e})}),(0,a.jsx)("p",{children:(0,a.jsx)("strong",{children:"Background Color"})}),(0,a.jsx)(r.ColorPalette,{value:n,onChange:e=>o({bgColor:e})}),(0,a.jsx)("p",{children:(0,a.jsx)("strong",{children:"Text Color"})}),(0,a.jsx)(r.ColorPalette,{value:l,onChange:e=>o({textColor:e})}),(0,a.jsx)(r.RangeControl,{label:"Auto Hide Time (seconds)",help:"0 = never auto-hide",value:s,onChange:e=>o({autoHideTime:e}),min:0,max:60})]})}),(0,a.jsx)("h3",{children:"ðŸª Cookie Policy Banner"}),(0,a.jsx)("p",{style:{fontSize:"13px",color:"#555"},children:"Add your cookie policy message, buttons, or links below."}),(0,a.jsx)("div",{style:{border:"1px solid #ccc",borderRadius:"6px",padding:"15px",minHeight:"100px",background:"#fafafa"},children:(0,a.jsx)(i.InnerBlocks,{template:[["core/paragraph",{placeholder:"We use cookies to improve your experience..."}],["core/button",{text:"Accept"}]],templateLock:!1})})]})},save:({attributes:e})=>{const{position:o,bgColor:t,textColor:n,autoHideTime:r}=e,l=i.useBlockProps.save({className:`web-advisor-cookie-block position-${o}`});return(0,a.jsxs)("div",{...l,children:[(0,a.jsx)("div",{id:"wab-cookie-banner",className:"wab-cookie-banner",style:{position:"fixed",[o]:0,left:0,width:"100%",backgroundColor:t,color:n,padding:"15px 20px",textAlign:"center",zIndex:9999,display:"none",boxShadow:"top"===o?"0 2px 8px rgba(0,0,0,0.2)":"0 -2px 8px rgba(0,0,0,0.2)"},children:(0,a.jsxs)("div",{className:"wab-cookie-inner",children:[(0,a.jsx)(i.InnerBlocks.Content,{}),(0,a.jsx)("button",{id:"wab-cookie-accept",style:{marginLeft:"10px",background:"#0073aa",color:"#fff",border:"none",padding:"6px 12px",borderRadius:"5px",cursor:"pointer"},children:"Accept"})]})}),(0,a.jsx)("script",{dangerouslySetInnerHTML:{__html:`\n                        (function(){\n                            const banner = document.getElementById('wab-cookie-banner');\n                            const btn = document.getElementById('wab-cookie-accept');\n                            const autoHide = ${r};\n                            if (localStorage.getItem('wab_cookie_accept')) return;\n\n                            banner.style.display = 'block';\n\n                            btn.addEventListener('click', () => {\n                                localStorage.setItem('wab_cookie_accept', 'true');\n                                banner.style.display = 'none';\n                            });\n\n                            if (autoHide > 0) {\n                                setTimeout(() => {\n                                    banner.style.display = 'none';\n                                    localStorage.setItem('wab_cookie_accept', 'true');\n                                }, autoHide * 1000);\n                            }\n                        })();\n                    `}})]})}})}}]);