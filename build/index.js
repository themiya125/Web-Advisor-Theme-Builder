(()=>{"use strict";const e=window.wp.blocks,t=window.wp.blockEditor,o=window.wp.components,n=window.wp.element,r=window.ReactJSXRuntime,i=[{label:"Cover",value:"cover"},{label:"Contain",value:"contain"},{label:"Auto",value:"auto"}],l=({value:e,onChange:t})=>{const o=(0,n.useRef)(null),i=(0,n.useRef)(null);return(0,n.useEffect)(()=>{if(!o.current||i.current||!wp.codeEditor)return;const n=document.createElement("textarea");o.current.appendChild(n);const r=wp.codeEditor.defaultSettings?{...wp.codeEditor.defaultSettings}:{};r.codemirror={...r.codemirror,mode:"css",lineNumbers:!0,extraKeys:{"Ctrl-Space":"autocomplete"}},i.current=wp.codeEditor.initialize(n,r),i.current.codemirror.on("change",e=>t(e.getValue())),i.current.codemirror.setValue(e)},[]),(0,n.useEffect)(()=>{i.current&&i.current.codemirror.getValue()!==e&&i.current.codemirror.setValue(e)},[e]),(0,r.jsx)("div",{ref:o,style:{minHeight:"120px"}})},c=(c,a,s)=>{(0,e.registerBlockType)(c,{title:a,icon:s,category:"layout",attributes:{customCSS:{type:"string",default:""},bgImage:{type:"string",default:""},bgSize:{type:"string",default:"cover"},bgPosition:{type:"string",default:"center center"},align:{type:"string",default:"full"}},supports:{align:["wide","full"],html:!1},edit:({attributes:e,setAttributes:a})=>{const{customCSS:s,bgImage:d,bgSize:u,bgPosition:g,align:b}=e,p=(0,t.useBlockProps)({style:{backgroundImage:d?`url(${d})`:void 0,backgroundSize:u,backgroundPosition:g,minHeight:"150px",padding:"20px",border:"1px dashed #ccc"},className:`wab-block-align-${b}`}),m="wab/section-block"===c?"section":"div";return(0,r.jsxs)(n.Fragment,{children:[(0,r.jsx)(t.InspectorControls,{children:(0,r.jsxs)(o.PanelBody,{title:"Custom CSS",initialOpen:!0,children:[(0,r.jsx)(l,{value:s,onChange:e=>a({customCSS:e})}),(0,r.jsx)(t.MediaUploadCheck,{children:(0,r.jsx)(t.MediaUpload,{onSelect:e=>a({bgImage:e.url}),allowedTypes:["image"],render:({open:e})=>(0,r.jsx)(o.Button,{onClick:e,isPrimary:!0,style:{marginTop:"10px"},children:d?"Change Background Image":"Set Background Image"})})}),(0,r.jsx)(o.SelectControl,{label:"Background Size",value:u,options:i,onChange:e=>a({bgSize:e})})]})}),(0,r.jsx)(t.BlockControls,{children:(0,r.jsx)(t.AlignmentToolbar,{value:b,onChange:e=>a({align:e})})}),(0,r.jsx)(m,{...p,children:(0,r.jsx)(t.InnerBlocks,{renderAppender:()=>(0,r.jsx)(t.InnerBlocks.ButtonBlockAppender,{})})})]})},save:({attributes:e})=>{const{bgImage:o,bgSize:n,bgPosition:i,align:l,customCSS:a}=e,s=t.useBlockProps.save({style:{backgroundImage:o?`url(${o})`:void 0,backgroundSize:n,backgroundPosition:i},className:`wab-block-align-${l}`}),d=a?(0,r.jsx)("style",{children:a}):null,u="wab/section-block"===c?"section":"div";return(0,r.jsxs)(u,{...s,children:[(0,r.jsx)(t.InnerBlocks.Content,{}),d]})}})};c("wab/div-block","Div Block","editor-code"),c("wab/section-block","Section Block","welcome-write-blog"),c("wab/container-block","Container Block","screenoptions")})();