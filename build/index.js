(()=>{"use strict";const e=window.wp.blocks,t=window.wp.blockEditor,o=window.wp.components,n=window.wp.element,l=window.ReactJSXRuntime,r=[{label:"Cover",value:"cover"},{label:"Contain",value:"contain"},{label:"Auto",value:"auto"}],a=[{label:"Center Center",value:"center center"},{label:"Top Left",value:"top left"},{label:"Top Center",value:"top center"},{label:"Top Right",value:"top right"},{label:"Center Left",value:"center left"},{label:"Center Right",value:"center right"},{label:"Bottom Left",value:"bottom left"},{label:"Bottom Center",value:"bottom center"},{label:"Bottom Right",value:"bottom right"}],s=({value:e,onChange:t})=>{const o=(0,n.useRef)(null),r=(0,n.useRef)(null);return(0,n.useEffect)(()=>{if(!o.current||r.current||!wp.codeEditor)return;const n=document.createElement("textarea");o.current.appendChild(n);const l=wp.codeEditor.defaultSettings?{...wp.codeEditor.defaultSettings}:{};l.codemirror={...l.codemirror,mode:"css",lineNumbers:!0,extraKeys:{"Ctrl-Space":"autocomplete"}},r.current=wp.codeEditor.initialize(n,l),r.current.codemirror.on("change",e=>t(e.getValue())),r.current.codemirror.setValue(e)},[]),(0,n.useEffect)(()=>{r.current&&r.current.codemirror.getValue()!==e&&r.current.codemirror.setValue(e)},[e]),(0,l.jsx)("div",{ref:o,style:{minHeight:"120px"}})},i=(i,c,d)=>{(0,e.registerBlockType)(i,{title:c,icon:d,category:"layout",attributes:{customCSS:{type:"string",default:""},bgImage:{type:"string",default:""},bgSize:{type:"string",default:"cover"},bgPosition:{type:"string",default:"center center"},align:{type:"string",default:"full"}},supports:{align:["wide","full"],html:!1},edit:({attributes:e,setAttributes:c})=>{const{customCSS:d,bgImage:u,bgSize:b,bgPosition:g,align:p}=e,x=(0,t.useBlockProps)({style:{backgroundImage:u?`url(${u})`:void 0,backgroundSize:b,backgroundPosition:g,minHeight:"150px",padding:"20px",border:"1px dashed #ccc"},className:`wab-block-align-${p}`}),m="wab/section-block"===i?"section":"div";return(0,l.jsxs)(n.Fragment,{children:[(0,l.jsx)(t.InspectorControls,{children:(0,l.jsxs)(o.PanelBody,{title:"Custom CSS",initialOpen:!0,children:[(0,l.jsx)(s,{value:d,onChange:e=>c({customCSS:e})}),(0,l.jsx)(t.MediaUploadCheck,{children:(0,l.jsx)(t.MediaUpload,{onSelect:e=>c({bgImage:e.url}),allowedTypes:["image"],render:({open:e})=>(0,l.jsx)(o.Button,{onClick:e,isPrimary:!0,style:{marginTop:"20px",marginBottom:"20px"},children:u?"Change Background Image":"Set Background Image"})})}),(0,l.jsx)(o.SelectControl,{label:"Background Size",value:b,options:r,onChange:e=>c({bgSize:e})}),(0,l.jsx)(o.SelectControl,{label:"Background Position",value:g,options:a,onChange:e=>c({bgPosition:e})})]})}),(0,l.jsx)(t.BlockControls,{children:(0,l.jsx)(t.AlignmentToolbar,{value:p,onChange:e=>c({align:e})})}),(0,l.jsx)(m,{...x,children:(0,l.jsx)(t.InnerBlocks,{renderAppender:()=>(0,l.jsx)(t.InnerBlocks.ButtonBlockAppender,{})})})]})},save:({attributes:e})=>{const{bgImage:o,bgSize:n,bgPosition:r,align:a,customCSS:s}=e,c=t.useBlockProps.save({style:{backgroundImage:o?`url(${o})`:void 0,backgroundSize:n,backgroundPosition:r},className:`wab-block-align-${a}`}),d=s?(0,l.jsx)("style",{children:s}):null,u="wab/section-block"===i?"section":"div";return(0,l.jsxs)(u,{...c,children:[(0,l.jsx)(t.InnerBlocks.Content,{}),d]})}})};i("wab/div-block","Div Block","editor-code"),i("wab/section-block","Section Block","welcome-write-blog"),i("wab/container-block","Container Block","screenoptions");const c=[{name:"Blue",color:"#0073aa"},{name:"Green",color:"#46b450"},{name:"Red",color:"#dc3232"},{name:"Orange",color:"#ffb900"},{name:"Black",color:"#000000"},{name:"White",color:"#ffffff"}];(0,e.registerBlockType)("wab/button-block",{title:"Button Block",icon:"button",category:"layout",attributes:{buttonText:{type:"string",default:"Click Me"},buttonUrl:{type:"string",default:""},isExternal:{type:"boolean",default:!1},bgColor:{type:"string",default:"#0073aa"},textColor:{type:"string",default:"#ffffff"},alignment:{type:"string",default:"center"}},supports:{html:!1},edit:({attributes:e,setAttributes:r})=>{const{buttonText:a,buttonUrl:s,isExternal:i,bgColor:d,textColor:u,alignment:b}=e,g=(0,t.useBlockProps)({style:{textAlign:b,margin:"10px 0"}});return(0,l.jsxs)(n.Fragment,{children:[(0,l.jsx)(t.BlockControls,{children:(0,l.jsx)(t.AlignmentToolbar,{value:b,onChange:e=>r({alignment:e||"center"})})}),(0,l.jsxs)(t.InspectorControls,{children:[(0,l.jsxs)(o.PanelBody,{title:"Button Settings",initialOpen:!0,children:[(0,l.jsx)(o.TextControl,{label:"Button Text",value:a,onChange:e=>r({buttonText:e})}),(0,l.jsx)(o.TextControl,{label:"Button URL",value:s,onChange:e=>r({buttonUrl:e}),placeholder:"https://example.com"}),(0,l.jsx)(o.ToggleControl,{label:"Open link in new tab (External)",checked:i,onChange:e=>r({isExternal:e})})]}),(0,l.jsxs)(o.PanelBody,{title:"Colors",initialOpen:!0,children:[(0,l.jsx)("p",{children:(0,l.jsx)("strong",{children:"Background Color"})}),(0,l.jsx)(t.ColorPalette,{colors:c,value:d,onChange:e=>r({bgColor:e})}),(0,l.jsx)("p",{style:{marginTop:"15px"},children:(0,l.jsx)("strong",{children:"Text Color"})}),(0,l.jsx)(t.ColorPalette,{colors:c,value:u,onChange:e=>r({textColor:e})})]})]}),(0,l.jsx)("div",{...g,children:(0,l.jsx)("a",{href:s||"#",target:i?"_blank":void 0,rel:i?"noopener noreferrer":void 0,style:{backgroundColor:d,color:u,padding:"10px 20px",borderRadius:"5px",textDecoration:"none",display:"inline-block"},children:a})})]})},save:({attributes:e})=>{const{buttonText:o,buttonUrl:n,isExternal:r,bgColor:a,textColor:s,alignment:i}=e,c=t.useBlockProps.save({style:{textAlign:i}});return(0,l.jsx)("div",{...c,children:(0,l.jsx)("a",{href:n||"#",target:r?"_blank":void 0,rel:r?"noopener noreferrer":void 0,className:"wab-button",style:{backgroundColor:a,color:s,padding:"10px 20px",borderRadius:"5px",textDecoration:"none",display:"inline-block"},children:o})})}}),(0,e.registerBlockType)("wab/home-slider",{title:"Home Page Slider",icon:"images-alt2",category:"layout",attributes:{slides:{type:"array",default:[]}},edit:({attributes:e,setAttributes:n})=>{const{slides:r}=e,a=(e,t,o)=>{const l=[...r];l[e][t]=o,n({slides:l})};return(0,l.jsxs)("div",{...(0,t.useBlockProps)(),className:"wab-slider-edit",children:[(0,l.jsx)(t.InspectorControls,{children:(0,l.jsxs)(o.PanelBody,{title:"Slider Settings",initialOpen:!0,children:[(0,l.jsx)(o.Button,{isPrimary:!0,onClick:()=>{n({slides:[...r,{title:"Main Title",subtitle:"Sub Title",buttonText:"Learn More",buttonUrl:"",isExternal:!1,image:""}]})},style:{marginBottom:"10px"},children:"+ Add New Slide"}),r.map((e,n)=>(0,l.jsxs)("div",{style:{marginBottom:"20px",borderBottom:"1px solid #ddd",paddingBottom:"10px"},children:[(0,l.jsx)("p",{children:(0,l.jsxs)("strong",{children:["Slide ",n+1]})}),(0,l.jsx)(t.MediaUploadCheck,{children:(0,l.jsx)(t.MediaUpload,{onSelect:e=>a(n,"image",e.url),allowedTypes:["image"],render:({open:t})=>(0,l.jsx)(o.Button,{onClick:t,isSecondary:!0,style:{marginBottom:"10px"},children:e.image?"Change Image":"Upload Image"})})}),(0,l.jsx)(o.TextControl,{label:"Main Title",value:e.title,onChange:e=>a(n,"title",e)}),(0,l.jsx)(o.TextControl,{label:"Sub Title",value:e.subtitle,onChange:e=>a(n,"subtitle",e)}),(0,l.jsx)(o.TextControl,{label:"Button Text",value:e.buttonText,onChange:e=>a(n,"buttonText",e)}),(0,l.jsx)(o.TextControl,{label:"Button URL",value:e.buttonUrl,onChange:e=>a(n,"buttonUrl",e)}),(0,l.jsx)(o.ToggleControl,{label:"Open link in new tab",checked:e.isExternal,onChange:e=>a(n,"isExternal",e)})]},n))]})}),(0,l.jsxs)("div",{className:"wab-slider-preview",style:{minHeight:"200px",background:"#222",color:"#fff",padding:"20px",textAlign:"center"},children:[(0,l.jsx)("p",{children:"Bootstrap Carousel Preview (Front-end View)"}),0===r.length&&(0,l.jsx)("p",{children:"No slides added yet."})]})]})},save:({attributes:e})=>{const{slides:o}=e,n=t.useBlockProps.save();return(0,l.jsxs)("div",{...n,children:[(0,l.jsxs)("div",{id:"wabBootstrapCarousel",className:"carousel slide","data-bs-ride":"carousel",children:[(0,l.jsx)("div",{className:"carousel-inner",children:o.map((e,t)=>(0,l.jsx)("div",{className:"carousel-item "+(0===t?"active":""),style:{backgroundImage:`url(${e.image})`,backgroundSize:"cover",backgroundPosition:"center",minHeight:"400px",position:"relative",color:"#fff"},children:(0,l.jsxs)("div",{className:"carousel-caption d-flex flex-column justify-content-center",style:{background:"rgba(0,0,0,0.4)",padding:"20px",borderRadius:"10px"},children:[(0,l.jsx)("h2",{children:e.title}),(0,l.jsx)("p",{children:e.subtitle}),e.buttonText&&(0,l.jsx)("a",{href:e.buttonUrl||"#",target:e.isExternal?"_blank":void 0,rel:e.isExternal?"noopener noreferrer":void 0,className:"btn btn-primary",children:e.buttonText})]})},t))}),(0,l.jsxs)("button",{className:"carousel-control-prev",type:"button","data-bs-target":"#wabBootstrapCarousel","data-bs-slide":"prev",children:[(0,l.jsx)("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),(0,l.jsx)("span",{className:"visually-hidden",children:"Previous"})]}),(0,l.jsxs)("button",{className:"carousel-control-next",type:"button","data-bs-target":"#wabBootstrapCarousel","data-bs-slide":"next",children:[(0,l.jsx)("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),(0,l.jsx)("span",{className:"visually-hidden",children:"Next"})]})]}),(0,l.jsx)("link",{href:"https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css",rel:"stylesheet"}),(0,l.jsx)("script",{src:"https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"})]})}})})();