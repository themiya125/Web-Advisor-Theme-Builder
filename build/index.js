(()=>{"use strict";const e=window.wp.blocks,t=window.wp.blockEditor,n=window.wp.components,l=window.wp.element,o=window.ReactJSXRuntime,r=[{label:"Cover",value:"cover"},{label:"Contain",value:"contain"},{label:"Auto",value:"auto"}],i=[{label:"Center Center",value:"center center"},{label:"Top Left",value:"top left"},{label:"Top Center",value:"top center"},{label:"Top Right",value:"top right"},{label:"Center Left",value:"center left"},{label:"Center Right",value:"center right"},{label:"Bottom Left",value:"bottom left"},{label:"Bottom Center",value:"bottom center"},{label:"Bottom Right",value:"bottom right"}],a=({value:e,onChange:t})=>{const n=(0,l.useRef)(null),r=(0,l.useRef)(null);return(0,l.useEffect)(()=>{if(!n.current||r.current||!wp.codeEditor)return;const l=document.createElement("textarea");n.current.appendChild(l);const o=wp.codeEditor.defaultSettings?{...wp.codeEditor.defaultSettings}:{};o.codemirror={...o.codemirror,mode:"css",lineNumbers:!0,extraKeys:{"Ctrl-Space":"autocomplete"}},r.current=wp.codeEditor.initialize(l,o),r.current.codemirror.on("change",e=>t(e.getValue())),r.current.codemirror.setValue(e)},[]),(0,l.useEffect)(()=>{r.current&&r.current.codemirror.getValue()!==e&&r.current.codemirror.setValue(e)},[e]),(0,o.jsx)("div",{ref:n,style:{minHeight:"120px"}})},s=(s,c,d)=>{(0,e.registerBlockType)(s,{title:c,icon:d,category:"layout",attributes:{customCSS:{type:"string",default:""},bgImage:{type:"string",default:""},bgSize:{type:"string",default:"cover"},bgPosition:{type:"string",default:"center center"},align:{type:"string",default:"full"}},supports:{align:["wide","full"],html:!1},edit:({attributes:e,setAttributes:c})=>{const{customCSS:d,bgImage:u,bgSize:b,bgPosition:g,align:x}=e,p=(0,t.useBlockProps)({style:{backgroundImage:u?`url(${u})`:void 0,backgroundSize:b,backgroundPosition:g,minHeight:"150px",padding:"20px",border:"1px dashed #ccc"},className:`wab-block-align-${x}`}),m="wab/section-block"===s?"section":"div";return(0,o.jsxs)(l.Fragment,{children:[(0,o.jsx)(t.InspectorControls,{children:(0,o.jsxs)(n.PanelBody,{title:"Custom CSS",initialOpen:!0,children:[(0,o.jsx)(a,{value:d,onChange:e=>c({customCSS:e})}),(0,o.jsx)(t.MediaUploadCheck,{children:(0,o.jsx)(t.MediaUpload,{onSelect:e=>c({bgImage:e.url}),allowedTypes:["image"],render:({open:e})=>(0,o.jsx)(n.Button,{onClick:e,isPrimary:!0,style:{marginTop:"20px",marginBottom:"20px"},children:u?"Change Background Image":"Set Background Image"})})}),(0,o.jsx)(n.SelectControl,{label:"Background Size",value:b,options:r,onChange:e=>c({bgSize:e})}),(0,o.jsx)(n.SelectControl,{label:"Background Position",value:g,options:i,onChange:e=>c({bgPosition:e})})]})}),(0,o.jsx)(t.BlockControls,{children:(0,o.jsx)(t.AlignmentToolbar,{value:x,onChange:e=>c({align:e})})}),(0,o.jsx)(m,{...p,children:(0,o.jsx)(t.InnerBlocks,{renderAppender:()=>(0,o.jsx)(t.InnerBlocks.ButtonBlockAppender,{})})})]})},save:({attributes:e})=>{const{bgImage:n,bgSize:l,bgPosition:r,align:i,customCSS:a}=e,c=t.useBlockProps.save({style:{backgroundImage:n?`url(${n})`:void 0,backgroundSize:l,backgroundPosition:r},className:`wab-block-align-${i}`}),d=a?(0,o.jsx)("style",{children:a}):null,u="wab/section-block"===s?"section":"div";return(0,o.jsxs)(u,{...c,children:[(0,o.jsx)(t.InnerBlocks.Content,{}),d]})}})};s("wab/div-block","Div Block","editor-code"),s("wab/section-block","Section Block","welcome-write-blog"),s("wab/container-block","Container Block","screenoptions");const c=[{name:"Blue",color:"#0073aa"},{name:"Green",color:"#46b450"},{name:"Red",color:"#dc3232"},{name:"Orange",color:"#ffb900"},{name:"Black",color:"#000000"},{name:"White",color:"#ffffff"}];(0,e.registerBlockType)("wab/button-block",{title:"Button Block",icon:"button",category:"layout",attributes:{buttonText:{type:"string",default:"Click Me"},buttonUrl:{type:"string",default:""},isExternal:{type:"boolean",default:!1},bgColor:{type:"string",default:"#0073aa"},textColor:{type:"string",default:"#ffffff"},alignment:{type:"string",default:"center"}},supports:{html:!1},edit:({attributes:e,setAttributes:r})=>{const{buttonText:i,buttonUrl:a,isExternal:s,bgColor:d,textColor:u,alignment:b}=e,g=(0,t.useBlockProps)({style:{textAlign:b,margin:"10px 0"}});return(0,o.jsxs)(l.Fragment,{children:[(0,o.jsx)(t.BlockControls,{children:(0,o.jsx)(t.AlignmentToolbar,{value:b,onChange:e=>r({alignment:e||"center"})})}),(0,o.jsxs)(t.InspectorControls,{children:[(0,o.jsxs)(n.PanelBody,{title:"Button Settings",initialOpen:!0,children:[(0,o.jsx)(n.TextControl,{label:"Button Text",value:i,onChange:e=>r({buttonText:e})}),(0,o.jsx)(n.TextControl,{label:"Button URL",value:a,onChange:e=>r({buttonUrl:e}),placeholder:"https://example.com"}),(0,o.jsx)(n.ToggleControl,{label:"Open link in new tab (External)",checked:s,onChange:e=>r({isExternal:e})})]}),(0,o.jsxs)(n.PanelBody,{title:"Colors",initialOpen:!0,children:[(0,o.jsx)("p",{children:(0,o.jsx)("strong",{children:"Background Color"})}),(0,o.jsx)(t.ColorPalette,{colors:c,value:d,onChange:e=>r({bgColor:e})}),(0,o.jsx)("p",{style:{marginTop:"15px"},children:(0,o.jsx)("strong",{children:"Text Color"})}),(0,o.jsx)(t.ColorPalette,{colors:c,value:u,onChange:e=>r({textColor:e})})]})]}),(0,o.jsx)("div",{...g,children:(0,o.jsx)("a",{href:a||"#",target:s?"_blank":void 0,rel:s?"noopener noreferrer":void 0,style:{backgroundColor:d,color:u,padding:"10px 20px",borderRadius:"5px",textDecoration:"none",display:"inline-block"},children:i})})]})},save:({attributes:e})=>{const{buttonText:n,buttonUrl:l,isExternal:r,bgColor:i,textColor:a,alignment:s}=e,c=t.useBlockProps.save({style:{textAlign:s}});return(0,o.jsx)("div",{...c,children:(0,o.jsx)("a",{href:l||"#",target:r?"_blank":void 0,rel:r?"noopener noreferrer":void 0,className:"wab-button",style:{backgroundColor:i,color:a,padding:"10px 20px",borderRadius:"5px",textDecoration:"none",display:"inline-block"},children:n})})}}),(0,e.registerBlockType)("wab/home-slider",{title:"Home Page Slider",icon:"images-alt2",category:"layout",attributes:{slides:{type:"array",default:[]}},edit:({attributes:e,setAttributes:l})=>{const{slides:r}=e,i=(e,t,n)=>{const o=[...r];o[e][t]=n,l({slides:o})};return(0,o.jsxs)("div",{...(0,t.useBlockProps)(),className:"wab-slider-edit",children:[(0,o.jsx)(t.InspectorControls,{children:(0,o.jsxs)(n.PanelBody,{title:"Slider Settings",initialOpen:!0,children:[(0,o.jsx)(n.Button,{isPrimary:!0,onClick:()=>{l({slides:[...r,{title:"Main Title",subtitle:"Sub Title",buttonText:"Learn More",buttonUrl:"",isExternal:!1,image:""}]})},style:{marginBottom:"10px"},children:"+ Add New Slide"}),r.map((e,l)=>(0,o.jsxs)("div",{style:{marginBottom:"20px",borderBottom:"1px solid #ddd",paddingBottom:"10px"},children:[(0,o.jsx)("p",{children:(0,o.jsxs)("strong",{children:["Slide ",l+1]})}),(0,o.jsx)(t.MediaUploadCheck,{children:(0,o.jsx)(t.MediaUpload,{onSelect:e=>i(l,"image",e.url),allowedTypes:["image"],render:({open:t})=>(0,o.jsx)(n.Button,{onClick:t,isSecondary:!0,style:{marginBottom:"10px"},children:e.image?"Change Image":"Upload Image"})})}),(0,o.jsx)(n.TextControl,{label:"Main Title",value:e.title,onChange:e=>i(l,"title",e)}),(0,o.jsx)(n.TextControl,{label:"Sub Title",value:e.subtitle,onChange:e=>i(l,"subtitle",e)}),(0,o.jsx)(n.TextControl,{label:"Button Text",value:e.buttonText,onChange:e=>i(l,"buttonText",e)}),(0,o.jsx)(n.TextControl,{label:"Button URL",value:e.buttonUrl,onChange:e=>i(l,"buttonUrl",e)}),(0,o.jsx)(n.ToggleControl,{label:"Open link in new tab",checked:e.isExternal,onChange:e=>i(l,"isExternal",e)})]},l))]})}),(0,o.jsx)("div",{className:"wab-slider-preview",style:{minHeight:"200px",position:"relative",overflow:"hidden",background:"#000"},children:r.map((e,t)=>(0,o.jsx)("div",{className:"wab-slider-item",style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"200px",backgroundImage:`url(${e.image})`,backgroundSize:"cover",backgroundPosition:"center",color:"#fff",padding:"20px",position:"relative"},children:(0,o.jsxs)("div",{style:{textAlign:"center"},children:[(0,o.jsx)("h2",{children:e.title}),(0,o.jsx)("p",{children:e.subtitle}),e.buttonText&&(0,o.jsx)("a",{href:e.buttonUrl||"#",target:e.isExternal?"_blank":void 0,rel:e.isExternal?"noopener noreferrer":void 0,className:"wab-slide-btn",style:{display:"inline-block",padding:"8px 20px",backgroundColor:"#0073aa",color:"#fff",borderRadius:"4px",textDecoration:"none",marginTop:"10px"},children:e.buttonText})]})},t))})]})},save:({attributes:e})=>{const{slides:n}=e,l=t.useBlockProps.save();return(0,o.jsxs)("div",{...l,className:"wab-slider",children:[(0,o.jsx)("div",{className:"wab-slides",children:n.map((e,t)=>(0,o.jsx)("div",{className:"wab-slide",style:{backgroundImage:`url(${e.image})`,backgroundSize:"cover",backgroundPosition:"center"},children:(0,o.jsxs)("div",{className:"wab-slide-content",children:[(0,o.jsx)("h2",{children:e.title}),(0,o.jsx)("p",{children:e.subtitle}),e.buttonText&&(0,o.jsx)("a",{href:e.buttonUrl||"#",target:e.isExternal?"_blank":void 0,rel:e.isExternal?"noopener noreferrer":void 0,className:"wab-slide-btn",children:e.buttonText})]})},t))}),(0,o.jsx)("button",{className:"wab-prev",children:"❮"}),(0,o.jsx)("button",{className:"wab-next",children:"❯"}),(0,o.jsx)("script",{children:"\n                    document.addEventListener('DOMContentLoaded', function() {\n                        const slider = document.querySelector('.wab-slider');\n                        if (!slider) return;\n\n                        const slides = slider.querySelectorAll('.wab-slide');\n                        let index = 0;\n\n                        function showSlide(i) {\n                            slides.forEach((s, idx) => {\n                                s.style.display = idx === i ? 'block' : 'none';\n                            });\n                        }\n\n                        showSlide(index);\n\n                        slider.querySelector('.wab-prev').addEventListener('click', () => {\n                            index = (index - 1 + slides.length) % slides.length;\n                            showSlide(index);\n                        });\n\n                        slider.querySelector('.wab-next').addEventListener('click', () => {\n                            index = (index + 1) % slides.length;\n                            showSlide(index);\n                        });\n                    });\n                    "})]})}})})();